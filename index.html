<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Youma's Portfolio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="nav">
        <ul class="navigation">
            <li>home</li>
            <li>works</li>
            <li>service</li>
            <li>about</li>
            <li>contact</li>
        </ul>
    </header>
    <div class="container">
        <section class="section red">Accueil
        </section>
        <section class="section blue">À Propos</section>
        <section class="section green">Compétences</section>
        <section class="section purple">Projets</section>
        <section class="section yellow">Contact</section>
    </div>
    <script>
const container = document.querySelector('.container');
const sections = document.querySelectorAll('.section');
const navItems = document.querySelectorAll('.navigation li');

let isScrolling = false;

// --- FONCTION POUR METTRE À JOUR LA NAV ACTIVE ---
const updateActiveNav = () => {
    const index = Math.round(container.scrollLeft / window.innerWidth);
    
    navItems.forEach((item, i) => {
        if (i === index) {
            item.classList.add('active');
        } else {
            item.classList.remove('active');
        }
    });
};

// --- NAVIGATION AU CLIC ---
navItems.forEach((item, index) => {
    item.addEventListener('click', () => {
        isScrolling = true;
        container.scrollTo({
            left: index * window.innerWidth,
            behavior: 'smooth'
        });
        
        // On force la mise à jour visuelle immédiate
        navItems.forEach(nav => nav.classList.remove('active'));
        item.classList.add('active');

        setTimeout(() => isScrolling = false, 700);
    });
});

// --- GESTION DU SCROLL À LA MOLETTE ---
window.addEventListener('wheel', (e) => {
    const targetIsInsideContainer = e.target.closest('.container');
    if (!targetIsInsideContainer || isScrolling || Math.abs(e.deltaY) < 10) return;

    e.preventDefault();
    isScrolling = true;

    const currentSectionIndex = Math.round(container.scrollLeft / window.innerWidth);
    let nextSectionIndex = currentSectionIndex;

    if (e.deltaY > 0) {
        nextSectionIndex = Math.min(sections.length - 1, currentSectionIndex + 1);
    } else {
        nextSectionIndex = Math.max(0, currentSectionIndex - 1);
    }
    
    container.scrollTo({
        left: nextSectionIndex * window.innerWidth,
        behavior: 'smooth'
    });

    // On met à jour la nav après le début du mouvement
    setTimeout(() => {
        updateActiveNav();
        isScrolling = false;
    }, 400); 
}, { passive: false });

// Initialisation au chargement
updateActiveNav();

// Optionnel : Mise à jour si l'utilisateur redimensionne la fenêtre
window.addEventListener('resize', updateActiveNav);
    </script>
</body>
</html>